# vim: et ft=scala ts=4 sw=4

def SOURCE_TAR = "_.source.tar";
def BIN_TAR = "_.bin.tar";

def make_source_tar = {
    !git
        archive HEAD
        --output $SOURCE_TAR
        --format tar
    ;
    0
}

def make_bin_tar = {
    !tar
        --create
        --file $BIN_TAR
        bin/xs-compile
        bin/xs-run
        bin/xs-debug
        bin/xs2
    ;
    0
}

make_source_tar;
!lsd --tree --long $SOURCE_TAR;
# make_bin_tar;
# !lsd --tree --long $BIN_TAR;
0
